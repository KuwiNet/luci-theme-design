XHR=function(){this.reinit=function(){window.XMLHttpRequest?this._xmlHttp=new XMLHttpRequest:window.ActiveXObject?this._xmlHttp=new ActiveXObject("Microsoft.XMLHTTP"):alert("xhr.js: XMLHttpRequest is not supported by this browser!")},this.busy=function(){if(!this._xmlHttp)return!1;switch(this._xmlHttp.readyState){case 1:case 2:case 3:return!0;default:return!1}},this.abort=function(){this.busy()&&this._xmlHttp.abort()},this.get=function(e,t,n){this.reinit();var s=this._xmlHttp,o=this._encode(t);e=location.protocol+"//"+location.host+e,o&&(e.substr(e.length-1,1)=="&"?e+=o:e+="?"+o),s.open("GET",e,!0),s.onreadystatechange=function(){if(s.readyState==4){var e=null;if(s.getResponseHeader("Content-Type")=="application/json")try{e=eval("("+s.responseText+")")}catch{e=null}n(s,e)}},s.send(null)},this.post=function(e,t,n){this.reinit();var s=this._xmlHttp,o=this._encode(t);s.onreadystatechange=function(){s.readyState==4&&n(s)},s.open("POST",e,!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(o)},this.cancel=function(){this._xmlHttp.onreadystatechange=function(){},this._xmlHttp.abort()},this.send_form=function(e,t,n){for(var s,i,r,o="",a=0;a<e.elements.length;a++)if(s=e.elements[a],s.options)o+=(o?"&":"")+e.elements[a].name+"="+encodeURIComponent(s.options[s.selectedIndex].value);else if(s.length)for(i=0;i<s.length;i++)s[i].name&&(o+=(o?"&":"")+s[i].name+"="+encodeURIComponent(s[i].value));else o+=(o?"&":"")+s.name+"="+encodeURIComponent(s.value);if(typeof n=="object")for(r in n)o+=(o?"&":"")+r+"="+encodeURIComponent(n[r]);return e.method=="get"?this.get(e.getAttribute("action"),o,t):this.post(e.getAttribute("action"),o,t)},this._encode=function(e){if(e=e||{},e._=Math.random(),typeof e=="object"){var n,t="",s=this;for(n in e)t+=(t?"&":"")+n+"="+encodeURIComponent(e[n]);return t}return e}},XHR.get=function(e,t,n){(new XHR).get(e,t,n)},XHR.poll=function(e,t,n,s){(isNaN(e)||e<1)&&(e=5),XHR._q||(XHR._t=0,XHR._q=[],XHR._r=function(){for(var t=0,e=XHR._q[0];t<XHR._q.length;e=XHR._q[++t])!(XHR._t%e.interval)&&!e.xhr.busy()&&e.xhr.get(e.url,e.data,e.callback);XHR._t++}),XHR._q.push({interval:e,callback:s,url:t,data:n,xhr:new XHR}),XHR.run()},XHR.halt=function(){if(XHR._i){try{document.getElementById("xhr_poll_status").style.display="",document.getElementById("xhr_poll_status_on").style.display="none",document.getElementById("xhr_poll_status_off").style.display="",document.getElementById("notice_status").style.marginRight="30px"}catch{}window.clearInterval(XHR._i),XHR._i=null}},XHR.run=function(){if(XHR._r&&!XHR._i){try{document.getElementById("xhr_poll_status").style.display="",document.getElementById("xhr_poll_status_on").style.display="",document.getElementById("xhr_poll_status_off").style.display="none",document.getElementById("notice_status").style.marginRight="30px"}catch{}XHR._r(),XHR._i=window.setInterval(XHR._r,1e3)}},XHR.running=function(){return!!(XHR._r&&XHR._i)},function(e){function t(){if(self.location.pathname.includes("status/realtime")){const n=e(".node-status-realtime"),t=["bandwidth","wifirate","wireless"];for(let e=0;e<t.length;e++){const o=t[e],s=n.find(`embed[src="/luci-static/resources/${o}.svg"] + div + br + table`);s.length&&s.wrap('<div style="overflow-x: auto;"></div>')}}}e(document).ready(()=>{t()})}(jQuery)